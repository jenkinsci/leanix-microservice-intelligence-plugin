package io.jenkins.plugins.leanixmi.scriptresources;

public class ShellScripts {

    public static final String batchScriptWin = "set pathToDependencyDir=%1\n"
        + "set packageManager=%2\n"
        + "set gradleInitFileOrMavenSettingsFile=%3%\n"
        + "if %packageManager%==NPM (\n"
        + "cd %pathToDependencyDir%\n"
        + "npm install -g license-checker\n"
        + "npm install\n"
        + "license-checker --json > %pathToDependencyDir%/dependencies.json\n"
        + ")\n"
        + "if %packageManager%==MAVEN (\n"
        + "cd %pathToDependencyDir%\n"
        + "if %gradleInitFileOrMavenSettingsFile%!=\"\" (  mvn -s %gradleInitFileOrMavenSettingsFile% org.codehaus.mojo:license-maven-plugin:download-licenses ) \n"
        + "else ( mvn org.codehaus.mojo:license-maven-plugin:download-licenses ) \n"
        + ")\n"
        + "if %packageManager%==GRADLE (\n"
        + "cd %pathToDependencyDir%\n"
        + "gradle generateLicenseReport -I %gradleInitFileOrMavenSettingsFile%\n"
        + ")";

    public static final String shellScript = "#!/bin/bash\n"
        + "export pathToDependencyDir=$1;\n"
        + "export packageManager=$2;\n"
        + "export gradleInitFileOrMavenSettingsFile=$3;\n"
        + "\n"
        + "case $packageManager in\n"
        + "  'NPM')\n"
        + "    cd $pathToDependencyDir;\n"
        + "    npm install -g license-checker;\n"
        + "    npm install;\n"
        + "    license-checker --json > $pathToDependencyDir/dependencies.json;\n"
        + "    ;;\n"
        + "  'MAVEN')\n"
        + "    cd $pathToDependencyDir;\n"
        + "    if [[ $gradleInitFileOrMavenSettingsFile != \"\" ]]; then\n"
        + "      mvn -s $gradleInitFileOrMavenSettingsFile org.codehaus.mojo:license-maven-plugin:download-licenses;\n"
        + "    else\n"
        + "      mvn org.codehaus.mojo:license-maven-plugin:download-licenses;\n"
        + "    fi\n"
        + "    ;;\n"
        + "  'GRADLE')\n"
        + "    cd $pathToDependencyDir;\n"
        + "    gradle generateLicenseReport -I gradleInitFileOrMavenSettingsFile;\n"
        + "    ;;\n"
        + "esac";
}
